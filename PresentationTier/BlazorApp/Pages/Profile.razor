@page "/Profile"
@using System.Security.Claims
@inject NavigationManager NavManager

<AuthorizeView>
    <Authorized>
        <div class="navBar_Top">
            <a class="title">REVERSO</a>
            <a class="balance">@GetClaimValue(AuthState.Result.User, "Credits")<img src="images/revcoin.png" alt="revcoin"></a>
        </div>
        
        <div class="wrapper">
            <div id="avatar">
                <img id="avatarImage" src="images/avatar.jpg" alt="avatar">
        
                <div class="flex-container">
                    <div id="info">
                        <div id="name">@GetClaimValue(AuthState.Result.User, "FirstName")</div>
                        <div id="name">@GetClaimValue(AuthState.Result.User, "LastName")</div>
                        <div id="address">Sondre Ringgade, Aarhus C, Denmark</div>
                    </div>
        
                    <br><br><br><br><br><br><br>
        
                    <div class="currentOrder">
                        <div id="orderNr"><img id="orderNrTruck" src="images/truck.png" alt="truck">Current orders: 1</div>
                        <div id="orderStatus"> <img id="statusImage" src="images/delivery-status.png" alt="status"> <b>Status
                            (order 1): </b> Purchase confirmed</div>
                    </div>
        
                    <br><br><br>
        
                    <div class="orderHistory">
                        <div id="orderHistory"><img id="history" src="images/history.png" alt="history">Orders history<img
                                                                                                                          id="arrow" src="images/arrow-down-sign-to-navigate.png" alt="arrow"></div>
                    </div>
        
                    <br><br><br>
        
                    <div class="revcoins">
                        <div id="refilRevcoins"><img id="revcoin" src="images/revcoin.png" alt="revcoin">Want to refil balance?<img id="arrow" src="images/arrow-down-sign-to-navigate.png" alt="arrow"> </div>
                    </div>
                </div>
            </div>
        </div>
    </Authorized>
</AuthorizeView>

@code
{
    [CascadingParameter]
    public Task<AuthenticationState> AuthState { get; set; } = null!;
    
    static string GetClaimValue(ClaimsPrincipal claimsPrincipal, string type)
        => claimsPrincipal.FindFirst(type)?.Value ?? string.Empty;

}

<style>
     body{
            margin: 0;
        }
        
        .navBar_Top {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0px;
            height: 136px;
            background: linear-gradient(90deg, #C7F9CC 0%, #80ED99 21.88%, #57CC99 45.31%, #38A3A5 68.23%, #22577A 100%);
        }
        
        .title{
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-style: italic;
            font-weight: 200;
            font-size: 64px;
            margin-left: 4%;
        }
        
        .balance{
            display: flex;
            align-items: center;
            margin-right: 4%;
            font-size: 35px;
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
        }
        
        .balance img{
            margin-left: 4px;
            width: 30px;
            height: 30px;
        }
        
        .wrapper{
            margin: 10px;
        }
        
        .flex-container{
            display: flex;
            flex-direction: column;
        }
        
        #avatarImage{
            float: left;
            margin-left: 10%;
            width: 250px;
            height: 250px;
        }
        
        #info{
            display: flex;
            flex-direction: column;
            float: left;
            margin-left: 5%;
            margin-top: 6%;
        }
        
        #name{
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-size: 50px;
            font-style: italic;
        }
        
        #address{
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-size: 20px;
        }
        
        .currentOrder{
            margin-left: 5%;
            float: left;
            display: flex;
            flex-direction: column;
        }
        
        #orderNrTruck{
            width: 50px;
            height: 50px;
            margin-right: 15px;
        }
        
        #orderNr{
            display: flex;
            flex-direction: row;
            /* justify-content: center; */
            align-items: center;
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-size: 35px;
            font-style: italic;
        }
        
        #orderStatus{
            margin-top: 4px;
            display: flex;
            flex-direction: row;
            /* justify-content: center; */
            align-items: center;
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-size: 20px;
        }
        
        #statusImage{
            width: 35px;
            height: 35px;
            margin-right: 4px;
        }
        
        #orderHistory{
            display: flex;
            flex-direction: row;
            align-items: center;
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-size: 35px;
            font-style: italic;
            margin-left: 5%;
        }
        
        .orderHistory #history{
            width: 45px;
            height: 45px;
            margin-right: 20px;
        }
        
        .orderHistory #arrow{
            width: 20px;
            height: 20px;
            margin-left: 30px;
        }
        
        #refilRevcoins{
            display: flex;
            flex-direction: row;
            align-items: center;
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-size: 35px;
            font-style: italic;
            margin-left: 5%;
        }
        
        .revcoins #revcoin{
            width: 45px;
            height: 45px;
            margin-right: 20px;
        }
        
        .revcoins #arrow{
            width: 20px;
            height: 20px;
            margin-left: 30px;
            rotate: -90deg;
        }
        
        hr{
            margin-left: 0%;
            background-color: black;
            color: black;
            height: 5px;
            border-radius: 20px;
            width: 80%;
        }
        
        #logout{
            display: flex;
            flex-direction: row;
            align-items: center;
            color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
            font-size: 25px;
            margin-left: 10%;
        }
        
        .logout #logoutIcon{
            width: 25px;
            height: 25px;
            margin-right: 10px;
        }
</style>
